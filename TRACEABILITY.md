# Traceability

| Issue ID | Files Touched | Tests Added | Endpoints | Notes |
| --- | --- | --- | --- | --- |
| A1-DB-01 (#15) | `database/migrations/2024_01_01_000140_create_tickets_table.php`, `app/Modules/Helpdesk/Models/Ticket.php`, `app/Models/Concerns/BelongsToTenant.php`, `app/Support/Tenancy/TenantContext.php`, `app/Http/Middleware/ResolveTenantContext.php`, `bootstrap/app.php`, `config/tenancy.php` | `tests/Feature/TicketSchemaTest.php` (@group A1-DB-01) | N/A | Introduced SLA columns, tenant scope wiring, and context middleware. |
| A1-DB-02 (#16) | `database/migrations/2024_01_01_000210_create_ticket_categories_table.php`, `...000220_create_ticket_tags_table.php`, `...000230_create_ticket_category_ticket_table.php`, `...000240_create_ticket_tag_ticket_table.php`, `app/Modules/Helpdesk/Models/TicketCategory.php`, `app/Modules/Helpdesk/Models/TicketTag.php`, `database/factories/TicketCategoryFactory.php`, `database/factories/TicketTagFactory.php`, `database/seeders/DemoDataSeeder.php` | `tests/Feature/TicketTaxonomyTest.php` (@group A1-DB-02) | N/A | Added taxonomy storage and guarded pivot syncing for tenant-safe metadata. |
| A1-MD-01 (#17) | `app/Modules/Helpdesk/Models/Ticket.php`, `app/Modules/Helpdesk/Events/TicketStatusChanged.php`, `app/Modules/Helpdesk/Observers/TicketObserver.php`, `app/Http/Controllers/Api/TicketController.php`, `app/Http/Requests/StoreTicketRequest.php`, `app/Http/Requests/UpdateTicketRequest.php`, `app/Http/Resources/*`, `routes/api.php`, `app/Modules/Helpdesk/Filament/Resources/TicketResource*.php`, `app/Policies/TicketPolicy.php`, `tests/Feature/TicketApiAndFilamentTest.php`, `tests/Feature/PolicyAccessTest.php`, `OPENAPI.yaml`, `README.md`, `CHANGELOG.md`, `TRACEABILITY.md` | `tests/Feature/TicketApiAndFilamentTest.php` (@group A1-MD-01), `tests/Feature/PolicyAccessTest.php` (@group A1-MD-01) | `GET/POST/PUT/DELETE /api/tickets` | Implemented scoped Ticket model behaviors, API + Filament flows, auditing observer, and documentation. |
| A1-SD-01 (#18) | `database/migrations/2024_01_01_000250_create_ticket_statuses_table.php`, `...000260_create_ticket_priorities_table.php`, `...000270_create_ticket_workflow_transitions_table.php`, `app/Modules/Helpdesk/Models/TicketStatus.php`, `app/Modules/Helpdesk/Models/TicketPriority.php`, `app/Modules/Helpdesk/Models/TicketWorkflowTransition.php`, `database/factories/TicketStatusFactory.php`, `database/factories/TicketPriorityFactory.php`, `database/factories/TicketWorkflowTransitionFactory.php`, `database/seeders/TicketLifecycleSeeder.php`, `database/seeders/DemoDataSeeder.php`, `routes/console.php`, `config/ticketing.php`, `tests/Feature/TicketLifecycleSeederTest.php`, `README.md`, `OPENAPI.yaml`, `CHANGELOG.md`, `TRACEABILITY.md` | `tests/Feature/TicketLifecycleSeederTest.php` (@group A1-SD-01) | `POST /api/tickets` (defaults via seeding) | Added tenant-scoped lifecycle defaults with artisan reseeding command and documentation. |
| A1-OB-01 (#19) | `app/Modules/Helpdesk/Models/Ticket.php`, `app/Modules/Helpdesk/Services/TicketSlaEvaluator.php`, `app/Modules/Helpdesk/Events/TicketSlaBreached.php`, `app/Modules/Helpdesk/Events/TicketSlaRecovered.php`, `app/Modules/Helpdesk/Observers/TicketSlaObserver.php`, `app/Modules/Helpdesk/Observers/TicketObserver.php`, `app/Providers/AppServiceProvider.php`, `app/Http/Resources/TicketResource.php`, `tests/Feature/TicketSlaObserverTest.php`, `OPENAPI.yaml`, `README.md`, `CHANGELOG.md` | `tests/Feature/TicketSlaObserverTest.php` (@group A1-OB-01) | `GET/PUT /api/tickets` (SLA metadata) | Implemented SLA evaluation, breach/recovery events, sanitized audit logging, and exposed SLA snapshots in the API. |
| A1-TS-01 (#21) | `app/Http/Controllers/Api/TicketController.php`, `app/Http/Requests/StoreTicketRequest.php`, `app/Http/Requests/UpdateTicketRequest.php`, `app/Modules/Helpdesk/Filament/Resources/TicketResource.php`, `tests/Feature/TicketTenantIsolationTest.php`, `tests/Feature/TicketApiAndFilamentTest.php`, `README.md`, `OPENAPI.yaml`, `CHANGELOG.md` | `tests/Feature/TicketTenantIsolationTest.php` (@group A1-TS-01), `tests/Feature/TicketApiAndFilamentTest.php` (@group A1-MD-01) | `GET/POST/PUT /api/tickets` | Enforced tenant/brand scoping on ticket mutations and added isolation coverage across API and Filament. |
| A2-DB-01 (#23) | `database/migrations/2024_01_01_000310_create_ticket_messages_table.php`, `database/migrations/2024_01_01_000320_create_ticket_participants_table.php`, `app/Modules/Helpdesk/Models/TicketMessage.php`, `app/Modules/Helpdesk/Models/TicketParticipant.php`, `database/factories/TicketMessageFactory.php`, `database/factories/TicketParticipantFactory.php` | `tests/Feature/TicketMessageSchemaTest.php` (@group A2-DB-01) | N/A (schema foundations) | Added tenant/brand scoped collaboration tables with dedupe hashes, indexes, and factories. |
| A2-MD-01 (#24) | `app/Http/Controllers/Api/TicketMessageController.php`, `app/Http/Requests/StoreTicketMessageRequest.php`, `app/Http/Resources/TicketMessageResource.php`, `app/Http/Resources/AttachmentResource.php`, `app/Modules/Helpdesk/Services/TicketMessageService.php`, `app/Modules/Helpdesk/Models/Ticket.php`, `routes/api.php`, `app/Modules/Helpdesk/Filament/Resources/TicketMessageResource.php`, `app/Modules/Helpdesk/Filament/Resources/TicketMessageResource/Pages/*`, `app/Policies/TicketMessagePolicy.php`, `app/Providers/AuthServiceProvider.php`, `tests/Feature/TicketMessageApiAndFilamentTest.php`, `tests/Feature/TicketMessagePolicyTest.php`, `README.md`, `OPENAPI.yaml`, `database/seeders/DemoDataSeeder.php`, `database/seeders/RoleSeeder.php` | `tests/Feature/TicketMessageApiAndFilamentTest.php` (@group A2-MD-01), `tests/Feature/TicketMessagePolicyTest.php` (@group A2-MD-01) | `GET/POST /api/tickets/{ticket}/messages` | Implemented tenant-scoped message append pipeline with RBAC, participants, attachments, Filament UI, docs, and seeded demo data. |
| A2-OB-01 (#26) | `app/Modules/Helpdesk/Services/AttachmentScanner.php`, `app/Modules/Helpdesk/Observers/TicketMessageObserver.php`, `app/Modules/Helpdesk/Services/TicketMessageService.php`, `app/Providers/AppServiceProvider.php`, `CHANGELOG.md` | `tests/Feature/TicketMessageApiAndFilamentTest.php` (@group A2-MD-01) | `POST /api/tickets/{ticket}/messages` (audit + scanning) | Hooked message observers for audit trails and attachment scanning logs to guard collaboration hygiene. |
